Программа для нахождения дублирующихся директорий. Должна находить не только полные дубликаты, но и частичные (например, совпадают 95% файлов по количеству или 95% по суммарному объёму).
Описание: на вход программе дается две дирректории, если файлы в них совпадают на 95% или более, то сообщить об этом.

Программа работает в двух режимах: первый проверяет директории на идентичность по количеству одинаковых файлов, второй по суммарному объёму идентичных файлов. 


Программа написана на языке СИ.

В программе используются стандартные библиотеки MinGW :

1) < dirent.h > для работы с директориями.

2) < math.h > для использования чисел с плавующей точкой при вычислении %ных соотношений.

3) < stdio.h > для контроля потоков информации при открытии файлов и тд.

4) < stdlib.h > для выделения памяти.

5) < string.h > для работы со строками.


Для решения поставленной задачи в данной программе используетя структура данных, включающая в себя информацию о файле(полный путь к файлу, размер). Структуры образуют два двунаправленных списка, содержащих в себе данные о всех файлах задаваемых директорий.


Работа программы:

1)У пользователя запрашиваются полные пути к директориям(заканчиваться путь должен на \).

2)Из указанных директорий, с помощью функций библиотеки < dirent.h >, данные о файлах помещаются в два двунаправленных списка. При этом проводится подсчет файлов в директориях,а так же суммарный объём директорий.

3)Для работы со структурами используется функция Add, которая связывает их в списки.

4)Для измерения объёма файлов используется функция izmerenie. Она открывает файл с помощью fopen и пробегается по нему до конца с помощью fgetc , подсчитывая количество считываемых байтов (одно считывание=1 байт).Функция возвращает количество считавшихся байтов.

5)Далее, программа пробегается по двум спискам и сравнивает файлы с помощью функции proverka, и, в зависимости от выбраного режима, подсчитывает количество одинаковых файлов или их суммарный объём.

6)Функция proverka получает на вход полные имена двух файлов, открывает их с помощью fopen и одновременно посимвольно считывает их с помощью fgetc, при этом сравнивания считываемые байты. В случае совпадений до EOF включительно, функция возвращает 1, иначе 0.

7)В конце программа с помощью оператора if сравнивает отношение наибольшого объёма/количества файлов из директории к подсчитанному суммарному объёму одинаковых файлов/количеству одинаковых файлов с 95%. И программа сообщает о полученном результате.

Примечание: для облегчения нагрузки на процессор, до проверки файлов на идентичность сравнивается % соотношение суммарного объёма/количества файлов в двух директориях, если оно меньше 95% , то программа не выполняет проверку на идентичность, а сразу выводит результат. 
